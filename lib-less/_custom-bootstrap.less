/* Imports Bootstrap from vendor dir and overrides variables with the
   Esper look and feel */
@import "../node_modules/bootstrap/less/bootstrap";

// Override variables
@import "./_bootstrap-variables";

// Addition button classes
.btn-secondary {
  color: @brand-text;
  background: @gray-lighter;
  border: 1px solid @btn-default-border;
  transition: color 0.5s, border 0.5s;

  &:hover, &:active {
    color: @brand-hover;
    border: 1px solid lighten(@btn-default-border, 5%);
  }
}

.btn-tertiary {
  color: rgba(255, 255, 255, 0.8);
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.8);
  transition: color 0.5s, border 0.5s;

  &:hover, &:active {
    color: white;
    border: 1px solid white;
  }
}

// Animations
.btn-primary, .btn-secondary, .btn-tertiary {
  transition: color 0.5s, border 0.5s, background-color 0.5s;
}

// Aliases
.button-primary { .btn-primary }
.button-secondary { .btn-secondary }
.button-tertiary { .btn-tertiary }

/*
  Minor tweaks to Bootstrap classes that don't normally make sense otherwise
*/

.container-fluid.padded {
  padding-left: @padding-base-horizontal;
  padding-right: @padding-base-horizontal;
}

.container-fluid {
  .navbar-right {
    margin-right: 0;
  }
}

.list-group-item.one-line {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow-x: hidden;

  // This helps floated badges behave more nicely with an accompanying label
  label {
    display: block;
    text-overflow: ellipsis;
    overflow-x: hidden;
  }
}

.list-group.compact {
  margin-bottom: 0;

  .list-group-item {
    padding: @padding-small-horizontal;
    border-left: 0;
    border-right: 0;

    &:first-child {
      border-top: 0;
    }

    &:last-child {
      border-bottom: 0;
    }
  }
}

a {
  cursor: pointer; // No href required

  &.active {
    cursor: default;
  }
}

.alert.compact {
  margin-bottom: @alert-padding;
}

.navbar-brand {
  line-height: @navbar-height - (@navbar-padding-vertical * 2);
  vertical-align: middle;

  img {
    height: @navbar-height - (@navbar-padding-vertical * 2);
    width: auto;
    margin: 0 @navbar-padding-horizontal;
  }

  &.lg {
    line-height: @navbar-height - (@navbar-padding-vertical * 4/3);
    padding-top: @navbar-padding-vertical * 2/3;
    padding-bottom: @navbar-padding-vertical * 2/3;

    img {
      height: @navbar-height - (@navbar-padding-vertical * 4/3);
      margin: 0 (@navbar-padding-horizontal * 2/3);
    }
  }
}

.nav > li > a:hover, .nav > li > a:focus {
  background-color: rgba(255, 255, 255, 0.8);
  color: rgba(0, 0, 0, 0.8);
}

.navbar-default .btn-default.navbar-btn {
  border-color: @navbar-default-border;
  color: @navbar-default-border;

  &:hover, &:focus {
    background: @navbar-default-border;
    color: white;
  }
}

.navbar-toggle {
  padding: @padding-base-vertical @padding-base-horizontal;
}


////

.progress.skinny {
  height: 3px;
  border-radius: 0;
  margin: 0;
}


/* FontAwesome Tweaks */

.navbar-nav > li > a > .fa,
.btn .fa {
  line-height: @line-height-computed;
}

.fa.bs-height {
  line-height: @line-height-computed;
}


////

.list-group {
  margin-bottom: @padding-large-vertical;
}


////

.modal-body .modal-footer, .panel-body .modal-footer {
  padding: @modal-inner-padding 0 0 0;
}


/* Mobile-friendly dropdowns */

@media (max-width: @screen-xs-max) {
  .dropdown.xs-open {
    .caret { display: none; }
    .dropdown-menu {
      display: block;
      position: static;
      min-width: 100%;
      box-shadow: none;
      margin: @padding-base-vertical 0;

      .navbar-collapse & {
        border-width: 1px 0 0 0;
        border-radius: 0;
        padding: 0;
      }

      > li > a {
        padding: @padding-base-vertical @padding-base-horizontal;
      }
    }
  }
}


//////

.dropdown {
  .dropdown-menu {
    min-width: 100%;
  }
}

input.form-control.dropdown-toggle[readonly] {
  background: white;
  float: none;
  cursor: pointer;
}


/* Fix corner rounding with nested inputs */

.input-group {
  > div:not(:first-child) {
    .form-control {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }

  > div:last-child {
    .form-control:last-child, .form-control.end-of-group {
      border-top-right-radius: @input-border-radius;
      border-bottom-right-radius: @input-border-radius;

      &.input-sm {
        border-top-right-radius: @input-border-radius-small;
        border-bottom-right-radius: @input-border-radius-small;
      }

      &.input-lg {
        border-top-right-radius: @input-border-radius-large;
        border-bottom-right-radius: @input-border-radius-large;
      }
    }
  }
}
